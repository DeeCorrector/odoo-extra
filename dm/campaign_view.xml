<?xml version="1.0"?>
<terp>
<data>
	<menuitem name="Direct Marketing" icon="terp-mrp" id="menu_dm_root"/>
	<menuitem name="Direct Marketing/Configuration" id="menu_dm_config" sequence="1"/>
	<menuitem name="Direct Marketing/Campaigns" id="menu_dm_campaign" sequence="4"/>
	<!--
	=======================================================
	Campaign Views
	=======================================================
	-->

	<record model="ir.ui.view" id="view_campaign_tree">
		<field name="name">dm.campaign.tree</field>
		<field name="model">dm.campaign</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Campaigns">
				<field name="name" string="Name"/>
				<field name="campaign_type"/>
				<field name="offer_id"/>
				<field name="date_start"/>
				<field name="date"/>
				<field name="state"/>
			</tree>
		</field>
	</record>

	<record model="ir.ui.view" id="view_campaign_form">
		<field name="name">dm.campaign.form</field>
		<field name="model">dm.campaign</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Campaigns">
				<notebook colspan="4">
					<page string="General">
						<separator string="Global Information" colspan="4"/>
						<field name="name" string="Name" select="1"/>
						<field name="code" string="Code" select="2"/>
						<field name="offer_id"/>
						<field name="parent_id" string="Category" domain="[('type','=','view')]"/>
						<field name="country_id" select="1"/>
						<field name="lang_id"/>
						<field name="date_start"/>
						<field name="date"/>
						<field name="campaign_type" select="2"/>
						<field name="partner_id"/>
						<field name="trademark_id"/>
						<separator string="Tasks Management" colspan="4"/>
						<group colspan="4">
						<field name="project_id"/>
						<button string="Create Retro-Planning" name="%(dm.campaign_wiz)d" type="action"/>
						</group>
						<separator string="Process State" colspan="4"/>
						<field name="planning_state" select="2" nolabel="0"/>
						<field name="manufacturing_state" select="2" nolabel="0"/>
<!--						<field name="campaign_stat_ids"/>-->
						<separator string="Campaign Status" colspan="4"/>
						<group col="10" colspan="4">
							<field name="state" readonly="1" select="2" nolabel="1"/>
							<button name="state_open_set" string="Open" states="draft,pending" type="object"/>
							<button name="state_close_set" string="Close" states="draft,open,pending" type="object"/>
							<button name="state_pending_set" string="Set pending" states="open" type="object"/>
							<button name="state_draft_set" string="Set to draft" states="open,pending,close" type="object"/>
						</group>
					</page>
					<page string="Propositions">
						<field name="proposition_ids" nolabel="1">
							<form string="Propositions">
								<field name="name" string="Name"/>
								<field name="code" string="Code"/>
								<field name="date_start"/>
								<field name="proposition_type"/>
								<newline/>
								<field name="customer_pricelist_id"/>
								<field name="requirer_pricelist_id"/>
								<newline/>
								<field name="quantity_max" string="Quantity"/>
								<field name="sale_rate"/>
								<field name="segment_id" colspan="4"/>
								<newline/>
					<!--				<field name="delay_ids" colspan="4"/>-->
									<separator string="Notes" colspan="4"/>
									<field name="notes" colspan="4" nolabel="1"/>
							</form>
							<tree string="Propositions">
								<field name="name" string="Name"/>
								<field name="code" string="Code"/>
								<field name="date_start" colspan="4"/>
								<field name="quantity_max" string="Quantity"/>
								<field name="sale_rate"/>
								<field name="proposition_type"/>
							</tree>
						</field>
					</page>
<!--					<page string="Procurement">
						<field name="product_ids" nolabel="1">
							<form string="Products">
								<field name="product_id"/>
								<field name="qty_planned"/>
								<field name="qty_real"/> 
								<field name="price"/>
							</form>
							<tree string="Products">
								<field name="product_id"/>
								<field name="qty_planned"/>
								<field name="qty_real"/> 
								<field name="price"/>
							</tree> 
						</field>
					</page>
-->					<page string="Desktop Publishing">
						<field name="dtp_date_delivery"/>
						<field name="dtp_date_real_delivery"/>
						<field name="dtp_intervention_type"/>
						<field name="dtp_making"/> 
<!--						<field name="dtp_making_time"/>    -->
						<field name="dtp_operator"/>
						<field name="dtp_date_recovered"/>
						<separator string="Notes" colspan="4"/>
						<field name="dtp_notes" colspan="4" nolabel="1"/>
					</page>
					<page string="Notes">
						<separator string="Notes" colspan="4"/>
						<field name="notes" colspan="4" nolabel="1"/>
					</page>
				</notebook>
			</form>
		</field>
	</record>
	# ------------------------------------------------------
	# All Campaigns
	# ------------------------------------------------------

	<record model="ir.actions.act_window" id="action_campaign_form_all">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>
	</record>
	<menuitem name="Direct Marketing/Campaigns/All Campaigns" id="menu_action_campaign_form_all" action="action_campaign_form_all"/>

	<record model="ir.actions.act_window" id="action_campaign_form_all1">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>]
		<field name="domain">[('state','=','open')]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/All Campaigns/Open Campaigns" id="menu_action_campaign_form_all1" action="action_campaign_form_all1"/>

	<record model="ir.actions.act_window" id="action_campaign_form_all2">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>]
		<field name="domain">[('state','=','draft')]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/All Campaigns/Draft Campaigns" id="menu_action_campaign_form_all2" action="action_campaign_form_all2"/>

	<record model="ir.actions.act_window" id="action_campaign_form_all3">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>]
		<field name="domain">[('state','=','close')]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/All Campaigns/Closed Campaigns" id="menu_action_campaign_form_all3" action="action_campaign_form_all3"/>

	# ------------------------------------------------------
	# My Campaigns
	# ------------------------------------------------------

	<record model="ir.actions.act_window" id="action_campaign_form_my">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>
		<field name="domain">[('user_id','=',uid)]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/My Campaigns" id="menu_action_campaign_form_my" action="action_campaign_form_my"/>

	<record model="ir.actions.act_window" id="action_campaign_form_my1">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>]
		<field name="domain">[('state','=','open'),('user_id','=',uid)]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/My Campaigns/Open Campaigns" id="menu_action_campaign_form_my1" action="action_campaign_form_my1"/>

	<record model="ir.actions.act_window" id="action_campaign_form_my2">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>]
		<field name="domain">[('state','=','draft'),('user_id','=',uid)]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/My Campaigns/Draft Campaigns" id="menu_action_campaign_form_my2" action="action_campaign_form_my2"/>

	<record model="ir.actions.act_window" id="action_campaign_form_my3">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_tree"/>]
		<field name="domain">[('state','=','close'),('user_id','=',uid)]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/My Campaigns/Closed Campaigns" id="menu_action_campaign_form_my3" action="action_campaign_form_my3"/>

	<!--
	=======================================================
	Delays Views
	=======================================================
	-->
	<record model="ir.ui.view" id="view_campaign_delay">
		<field name="name">dm.campaign.delay.form</field>
		<field name="model">dm.campaign.delay</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Delay">
				<field name="key_id" select="1"/>
				<field name="value" select="1"/>
				<field name="proposition_id" select="2"/>
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_campaign_delay_tree">
		<field name="name">dm.campaign.delay.tree</field>
		<field name="model">dm.campaign.delay</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Delay">
				<field name="key_id"/>
				<field name="value"/>
			</tree>
		</field>
	</record>	
	
	<record model="ir.actions.act_window" id="action_campaign_delay">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign.delay</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_delay_tree"/>
	</record>
<!--	<menuitem name="Direct Marketing/Configuration/Campaigns/All Campaigns Delays" id="menu_action_campaign_delay" action="action_campaign_delay"/>-->

	<!--
	=======================================================
	Proposition Views
	=======================================================
	-->
	<record model="ir.ui.view" id="view_campaign_proposition_form">
		<field name="name">dm.campaign.proposition.form</field>
		<field name="model">dm.campaign.proposition</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Propositions">
				<field name="name" string="Name" select="1"/>
				<field name="code" string="Code" select="2"/>
				<field name="camp_id"/>
				<field name="date_start" select="2"/>
				<field name="segment_id"/>
				<field name="proposition_type" select="1"/>
				<newline/>
				<field name="customer_pricelist_id"/>
				<field name="requirer_pricelist_id"/>
				<newline/>
				<field name="quantity_max" string="Quantity"/>
				<field name="sale_rate"/>
				<newline/>
<!--				<field name="delay_ids" colspan="4"/>-->
				<separator string="Notes" colspan="4"/>
				<field name="notes" colspan="4" nolabel="1"/>
			</form>
		</field>
	</record>
	
	<record model="ir.ui.view" id="view_campaign_proposition_tree">
		<field name="name">dm.campaign.proposition.tree</field>
		<field name="model">dm.campaign.proposition</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Propositions">
				<field name="name" string="Name"/>
				<field name="code" string="Code"/>
				<field name="date_start" colspan="4"/>
				<field name="quantity_max" string="Quantity"/>
				<field name="sale_rate"/>
				<field name="proposition_type"/>
			</tree>
		</field>
	</record>	

	<record model="ir.actions.act_window" id="action_campaign_proposition">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign.proposition</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_proposition_tree"/>
	</record>
	<menuitem name="Direct Marketing/Campaigns/All Campaigns Propositons" id="menu_action_campaign_proposition" action="action_campaign_proposition"/>

	<record model="ir.actions.act_window" id="action_campaign_proposition_my">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign.proposition</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_proposition_tree"/>
		<field name="domain">[('user_id','=',uid)]</field>
	</record>
	<menuitem name="Direct Marketing/Campaigns/My Campaigns Propositons" id="menu_action_campaign_proposition_my" action="action_campaign_proposition_my"/>

	<record model="ir.ui.view" id="view_campaign_proposition_segment_form">
		<field name="name">dm.campaign.proposition.segment.form</field>
		<field name="model">dm.campaign.proposition.segment</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Segments">
				<field name="name" string="Name" select="1"/>
				<field name="action_code" string="Action Code" select="2"/>
				<field name="qty"/>
			</form>
		</field>
	</record>
	
	<record model="ir.ui.view" id="view_campaign_proposition_segment_tree">
		<field name="name">dm.campaign.proposition.segment.tree</field>
		<field name="model">dm.campaign.proposition.segment</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Segments">
				<field name="name" string="Name"/>
				<field name="action_code" string="Action Code"/>
				<field name="qty"/>
			</tree>
		</field>
	</record>	
	
	<record model="ir.actions.act_window" id="action_campaign_proposition_segment_form">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign.proposition.segment</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_proposition_segment_tree"/>
	</record>
	<menuitem name="Direct Marketing/Configuration/Campaigns/All Campaigns Segments" id="menu_action_campaign_proposition_segment_form" action="action_campaign_proposition_segment_form"/>

	<record model="ir.ui.view" id="view_campaign_group_form">
		<field name="name">dm.campaign.group.form</field>
		<field name="model">dm.campaign.group</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Group">
				<field name="name" colspan="4" select="1"/>
				<field name="campaign_ids" colspan="4" select="2"/>
			</form>
		</field>
	</record>
	
	<record model="ir.ui.view" id="view_campaign_group_tree">
		<field name="name">dm.campaign.group.tree</field>
		<field name="model">dm.campaign.group</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Groups">
				<field name="name"/>
			</tree>
		</field>
	</record>	
	
	<record model="ir.actions.act_window" id="action_campaign_group_form">
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">dm.campaign.group</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="view_id" ref="view_campaign_group_tree"/>
	</record>
	<menuitem name="Direct Marketing/Configuration/Campaigns/All Campaigns Groups" id="menu_action_campaign_group_form" action="action_campaign_group_form"/>
</data>
</terp>
