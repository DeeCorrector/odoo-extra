<?xml version="1.0" ?>
<terp>
	<data>

		<record model="ir.ui.view" id="user_product_ca_tree">
			<field name="name">user_product_ca.tree</field>
			<field name="model">user_product_ca</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="User's Function and Invoicing Rate" editable="bottom">
					<field name="user_id" required="1"/>
					<field name="product_id" />
				<!--	<field name="account_id"/>-->
                    <field name="rate_id" />
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="user_product_ca_form">
			<field name="name">user_product_ca.tree</field>
			<field name="model">user_product_ca</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="User's Function and Invoicing Rate">
					<field name="user_id" required="1"/>
					<field name="product_id" />
				<!--	<field name="account_id"/>-->
                    <field name="rate_id" />
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="view_account_analytic_account_form_inherit">
			<field name="name">account.analytic.account.form</field>
			<field name="model">account.analytic.account</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="account.view_account_analytic_account_form"/>
			<field name="arch" type="xml">
				<xpath expr="/form/notebook/page/field[@name='to_invoice']" position="replace">
					<field name="to_invoice" string="Default Invoicing Percentage"/>
					<field name="user_product" colspan="4"/>
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_timesheet_sheet_form_inherit">
			<field name="name">hr.timesheet.sheet.form</field>
			<field name="model">hr_timesheet_sheet.sheet</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="hr_timesheet_sheet.hr_timesheet_sheet_form"/>
			<field name="arch" type="xml">
				<xpath expr="/form/notebook/page/field[@name='timesheet_ids']/tree/field[@name='account_id']" position="replace">
					<field name="account_id"  domain="[('type','=','normal'),('state', '&lt;&gt;', 'close')]" on_change="on_change_account_id(user_id, account_id)"/>
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_timesheet_line_form_inherit">
			<field name="name">hr.analytic.timesheet.form</field>
			<field name="model">hr.analytic.timesheet</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_form"/>
			<field name="arch" type="xml">
				<xpath expr="/form/field[@name='account_id']" position="replace">
					<field name="account_id"  domain="[('type','=','normal'),('state', '&lt;&gt;', 'close')]" on_change="on_change_account_id(user_id, account_id)" select="1"/>
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_timesheet_line_form_inherit_2">
			<field name="name">hr.analytic.timesheet.form</field>
			<field name="model">hr.analytic.timesheet</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_form"/>
			<field name="arch" type="xml">
				<xpath expr="/form/field[@name='user_id']" position="replace">
					<field name="user_id" select="1" required="1" on_change="on_change_user_id(user_id, account_id)"/>
				</xpath>
			</field>
		</record>


	</data>
</terp>
