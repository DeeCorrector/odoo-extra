<?xml version="1.0" ?>
<terp>
	<data>
		<wizard
			string="Select partners"
			model="segmentation.profile"
			name="open_partner"
			id="wizard_open_partner"/>

		<record model="ir.actions.act_window" id="open_questions">
		  <field name="name">Questions</field>
		  <field name="res_model">segmentation.question</field>
		  <field name="view_type">form</field>
		  <field name="view_mode">tree,form</field>
		</record>
		<menuitem name="Segmentation/Questions" id="menu_segm_question" 
				  action="open_questions" />

		<record model="ir.actions.act_window" id="open_answers">
		  <field name="name">Answers</field>
		  <field name="res_model">segmentation.answer</field>
		  <field name="view_type">form</field>
		  <field name="view_mode">tree,form</field>
		</record>
		<menuitem name="Segmentation/Questions" id="menu_segm_answer" 
				  action="open_answers" />

		<record model="ir.actions.act_window" id="open_profiles">
		  <field name="name">Profiles</field>
		  <field name="res_model">segmentation.profile</field>
		  <field name="view_type">form</field>
		  <field name="view_mode">tree,form</field>
		</record>
		<menuitem name="Segmentation/Profiles" id="menu_segm_profile" 
				  action="open_profiles" />

	<record model="ir.ui.view" id="view_profile">
		<field name="name">Segmentation profiles</field>
		<field name="model">segmentation.profile</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
		  <form string="Profiles">
			<newline/>
			<field name="name" select="1"/>
			<newline/>
			<field name="parent_id"/>
      		<separator string="Included Answers :" colspan="4"/>
			<field name="answer_yes" />
       	 	<separator string="Excluded Answers :" colspan="4"/>
			<field name="answer_no" />
		  </form>
		</field>
	</record>

	<record model="ir.ui.view" id="view_answer">
		<field name="name">Answers</field>
		<field name="model">segmentation.answer</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
		  <tree string="Answers">
			<field name="question" select="1"/>
			<field name="name" select="1"/>
		  </tree>
		</field>
	</record>

	<record model="ir.ui.view" id="base.view_partner_form">
		<field name="name">res.partner.form</field>
		<field name="model">res.partner</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Partners">
			<notebook>
				<page string="General">
					<field name="name" select="1"/>
					<field name="title" domain="[('domain', '=', 'partner')]"/>
					<field name="ref" select="1"/>
					<field name="lang" select="2"/>
					<newline/>
					<field name="address" mode="form,tree" colspan="4" nolabel="1" select="1">
						<form string="Partner contacts">
							<field name="name" select="2"/>
							<field name="title" domain="[('domain', '=', 'contact')]"/>
							<field name="function"/>
							<field name="type" select="2"/>
							<field name="street" select="2"/>
							<field name="street2"/>
							<newline/>
							<field name="zip" select="2"/>
							<field name="city" select="2"/>
							<newline/>
							<field name="country_id" select="2"/>
							<field name="state_id" select="2"/>
							<newline/>
							<field name="phone"/>
							<field name="fax"/>
							<newline/>
							<field name="mobile"/>
							<field name="email" select="2" widget="email" />
						</form>
					</field>
					<separator string="Categories" colspan="4"/>
					<field name="category_id" colspan="4" select="2" nolabel="1"/>
				</page>
				<page string="Extra Info">
					<field name="active" select="2" />
					<newline/>
					<field name="credit_limit"/>
					<field name="user_id" select="2"/>
					<field name="parent_id"/>
					<field name="website" widget="url"/>
					<field name="date" select="2"/>
					<separator string="Notes" colspan="4"/>
					<field name="comment" colspan="4" nolabel="1"/>
				</page>
				<page string="Event History">
					<field name="events" colspan="4" nolabel="1" widget="one2many_list"/>
				</page>
				<page string="Properties">
					<properties/>
				</page>

				<page string="Segmentation">
				  <field name="anwers" colspan="4" />
				</page>
			</notebook>
			</form>
		</field>
	</record>


<!--
pas suuuuuur
--> 


	<record model="ir.ui.view" id="view_partner_profile_tree">
		<field name="name">segmentation.profile.tree</field>
		<field name="model">segmentation.profile</field>
		<field name="type">tree</field>
		<field name="field_parent">child_ids</field>
		<field name="arch" type="xml">
			<tree string="Partner Profiles">
				<field name="name"/>
			</tree>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_partner_profile">
		<field name="name">Partner profiles</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">segmentation.profile</field>
		<field name="view_type">tree</field>
		<field name="view_id" ref="view_partner_profile_tree"/>
		<field name="domain">[('parent_id','=',False)]</field>
	</record>

	<menuitem
		name="Partners/Partners by Profile" 
		sequence="1"
		action="action_partner_profile" 
		id="menu_partner_profile_main"/>

	<record model="ir.values" id="ir_action_partner_by_profile">
		<field name="key2" eval="'tree_but_open'"/>
		<field name="model" eval="'segmentation.profile'"/>
		<field name="name">Open partners</field>
		<field name="value" eval="'ir.actions.wizard,%d'%wizard_open_partner"/>
		<field name="object" eval="True"/>
	</record>

	</data>
</terp>
