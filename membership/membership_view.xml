<?xml version="1.0"?>
<terp>
	<data>



		<!-- MEMBERSHIP -->

		<!-- MEMBERSHIP/MEMBERSHIP PRODUCTS -->

		<record model="ir.ui.view" id="membership_products_tree">
			<field name="name">Membership products</field>
			<field name="model">product.product</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Membership products">
					<field name="code"/>
					<field name="name"/>
					<field name="membership_date_from"/>
					<field name="membership_date_to"/>
					<field name="standard_price"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="product_normal_form_view">
			<field name="name">Membership product</field>
			<field name="model">product.product</field>
			<field name="inherit_id" ref="product.product_normal_form_view"/>
			<field name="arch" type="xml">
				<page string="Information" position="after">
					<page string="Membership">
						<field name="membership" readonly="1"/>
						<newline/>
						<field name="membership_date_from" required="1"/>
						<field name="membership_date_to" required="1"/>
					</page>
				</page>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_membership_products">
			<field name="name">Membership Products</field>
			<field name="res_model">product.product</field>
			<field name="domain">[('membership','=',True)]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_product_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_products_tree"/>
			<field name="act_window_id" ref="action_membership_products"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_product_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_products"/>
		</record>

		<menuitem name="Membership/Configuration/Membership products" 
			id="menu_membership_products" 
			action="action_membership_products"/>


		<!-- MEMBERSHIP/MEMBERS -->

		<record model="ir.ui.view" id="membership_members_tree">
			<field name="name">Members</field>
			<field name="model">res.partner</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Members">
					<field name="name"/>
					<field name="membership_start"/>
					<field name="membership_stop"/>
					<field name="membership_state"/>
				</tree>
			</field>
		</record>


		<record model="ir.actions.act_window" id="action_membership_members">
			<field name="name">Members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '!=', 'none')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members"/>
		</record>

		<record model="ir.actions.act_window" id="action_members">
			<field name="name">Members</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">tree</field>
			<field name="domain">[('membership_state','=', 'none')]</field>
		</record>

	<menuitem name="Membership/Members" 
			id="menu_members" 
			action="action_membership_members"/>

		<!-- MEMBERSHIP/MEMBERS/PAID MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_paid">
			<field name="name">Paid members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'paid')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_paid_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_paid"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_paid_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_paid"/>
		</record>

		<menuitem name="Membership/Members/Paid members" 
			id="menu_members_paid" 
			action="action_membership_members_paid"/>


		<!-- MEMBERSHIP/MEMBERS/WAITING MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_waiting">
			<field name="name">Waiting members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'waiting')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_waiting_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_waiting"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_waiting_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_waiting"/>
		</record>

		<menuitem name="Membership/Members/Waiting members" 
			id="menu_members_waiting" 
			action="action_membership_members_waiting"/>







<!-- PARTNERS -->

		<record model="ir.ui.view" id="view_partner_form">
			<field name="name">res.partner.form.inherit</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form"/>
			<field name="arch" type="xml">
				<page string="Extra Info" position="after">
					<page string="Membership">
						<field name="membership_state" select="2"/>
						<field name="membership_amount" select="2"/>
						<field name="associate_member"/>
						<field name="free_member" select="2"/>
						<field name="membership_start" select="2"/>
						<field name="membership_cancel" select="2"/>
						<field name="member_lines" nolabel="1" colspan="4" readonly="1">
							<tree string="Membership">
								<field name="date_from"/>
								<field name="date_to"/>
								<field name="state"/>
							</tree>
							<form string="Membership">
								<field name="date_from"/>
								<field name="date_to"/>
								<field name="sale_order_line"/>
								<field name="state"/>
							</form>
						</field>
					</page>
				</page>
			</field>
		</record>



		<!-- MEMBERSHIP/REPORTING -->

		<record model="ir.ui.view" id="view_report_membership_year_tree">
			<field name="name">report.membership.year.tree</field>
			<field name="model">report.membership.year</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Membership by Years">
					<field name="year"/>
					<field name="state"/>
					<field name="number" sum="Number"/>
					<field name="amount" sum="Amount"/>
					<field name="currency"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="view_report_membership_year_graph1">
			<field name="name">report.membership.year.graph1</field>
			<field name="model">report.membership.year</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Membership number by Years" type="bar">
					<field name="year"/>
					<field name="state" group="1"/>
					<field name="number"/>
				</graph>
			</field>
		</record>

		<record model="ir.ui.view" id="view_report_membership_year_graph2">
			<field name="name">report.membership.year.graph2</field>
			<field name="model">report.membership.year</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Membership amount by Years" type="bar">
					<field name="year"/>
					<field name="state" group="1"/>
					<field name="amount"/>
				</graph>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_report_membership_year_tree">
			<field name="res_model">report.membership.year</field>
			<field name="view_type">form</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_year_tree_view1">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="act_window_id" ref="action_report_membership_year_tree"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_year_tree_view2">
			<field name="sequence" eval="2"/>
			<field name="view_mode">graph</field>
			<field name="view_id" ref="view_report_membership_year_graph1"/>
			<field name="act_window_id" ref="action_report_membership_year_tree"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_year_tree_view3">
			<field name="sequence" eval="3"/>
			<field name="view_mode">graph</field>
			<field name="view_id" ref="view_report_membership_year_graph2"/>
			<field name="act_window_id" ref="action_report_membership_year_tree"/>
		</record>

		<menuitem name="Membership/Reporting/Membership by Years"
			action="action_report_membership_year_tree"
			id="menu_report_membership_year"/>

		<record model="ir.ui.view" id="view_report_membership_year_new_tree">
			<field name="name">report.membership.year_new.tree</field>
			<field name="model">report.membership.year_new</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="New Membership by Years">
					<field name="year"/>
					<field name="number" sum="Number"/>
					<field name="amount" sum="Amount"/>
					<field name="currency"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="view_report_membership_year_new_graph1">
			<field name="name">report.membership.year_new.graph1</field>
			<field name="model">report.membership.year_new</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="New Membership number by Years" type="bar">
					<field name="year"/>
					<field name="number"/>
				</graph>
			</field>
		</record>

		<record model="ir.ui.view" id="view_report_membership_year_new_graph2">
			<field name="name">report.membership.year_new.graph2</field>
			<field name="model">report.membership.year_new</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="New Membership number by Years" type="bar">
					<field name="year"/>
					<field name="amount"/>
				</graph>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_report_membership_year_new_tree">
			<field name="res_model">report.membership.year_new</field>
			<field name="view_type">form</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_year_new_tree_view1">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="act_window_id" ref="action_report_membership_year_new_tree"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_year_new_tree_view2">
			<field name="sequence" eval="2"/>
			<field name="view_mode">graph</field>
			<field name="view_id" ref="view_report_membership_year_new_graph1"/>
			<field name="act_window_id" ref="action_report_membership_year_new_tree"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_year_new_tree_view3">
			<field name="sequence" eval="3"/>
			<field name="view_mode">graph</field>
			<field name="view_id" ref="view_report_membership_year_new_graph2"/>
			<field name="act_window_id" ref="action_report_membership_year_new_tree"/>
		</record>

		<menuitem name="Membership/Reporting/New Membership by Years"
			action="action_report_membership_year_new_tree"
			id="menu_report_membership_year_new"/>

	</data>
</terp>
