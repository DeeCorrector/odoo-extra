<?xml version="1.0"?>
<terp>
	<data>



		<!-- MEMBERSHIP -->

		<!-- MEMBERSHIP/MEMBERSHIP PRODUCTS -->

		<record model="ir.ui.view" id="membership_products_tree">
			<field name="name">Membership products</field>
			<field name="model">product.product</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Membership products">
					<field name="code"/>
					<field name="name"/>
					<field name="membership_date_from"/>
					<field name="membership_date_to"/>
					<field name="lst_price"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="membership_products_form">
			<field name="name">Membership products</field>
			<field name="model">product.product</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Membership products">
					<field name="default_code"/>
					<field name="name"/>
					<field name="membership_date_from" required="1"/>
					<field name="membership_date_to" required="1"/>
					<field name="list_price"/>
					<field name="type"/>
					<field name="categ_id"/>
					<field name="membership"/>
					<newline/>
					<field name="taxes_id" colspan="4"/>
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="product_normal_form_view">
			<field name="name">Membership product</field>
			<field name="model">product.product</field>
			<field name="inherit_id" ref="product.product_normal_form_view"/>
			<field name="arch" type="xml">
				<page string="Information" position="after">
					<page string="Membership">
						<field name="membership" readonly="1"/>
						<newline/>
						<field name="membership_date_from" readonly="1"/>
						<field name="membership_date_to" readonly="1"/>
					</page>
				</page>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_membership_products">
			<field name="name">Membership Products</field>
			<field name="res_model">product.product</field>
			<field name="domain">[('membership','=',True)]</field>
			<field name="context">{'membership':True}</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_product_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_products_tree"/>
			<field name="act_window_id" ref="action_membership_products"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_product_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="membership_products_form"/>
			<field name="act_window_id" ref="action_membership_products"/>
		</record>

		<menuitem name="Membership/Configuration/Membership products" 
			id="menu_membership_products" 
			action="action_membership_products"/>


		<!-- MEMBERSHIP/MEMBERS -->

		<record model="ir.ui.view" id="membership_members_tree">
			<field name="name">Members</field>
			<field name="model">res.partner</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Members">
					<field name="name"/>
					<field name="membership_start"/>
					<field name="membership_stop"/>
					<field name="membership_state"/>
				</tree>
			</field>
		</record>


		<record model="ir.actions.act_window" id="action_membership_members">
			<field name="name">Members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'paid'), ('membership_state', '=', 'free'), ('membership_state', '=', 'associated')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members"/>
		</record>

		<menuitem name="Membership/Members" 
			id="menu_members" 
			action="action_membership_members"/>

		<!-- MEMBERSHIP/MEMBERS/PAID MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_paid">
			<field name="name">Paid members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'paid')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_paid_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_paid"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_paid_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_paid"/>
		</record>

		<menuitem name="Membership/Members/Paid members" 
			id="menu_members_paid" 
			action="action_membership_members_paid"/>


		<!-- MEMBERSHIP/MEMBERS/FREE MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_free">
			<field name="name">Free members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'free')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_free_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_free"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_free_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_free"/>
		</record>

		<menuitem name="Membership/Members/Free members" 
			id="menu_members_free" 
			action="action_membership_members_free"/>




		<!-- MEMBERSHIP/MEMBERS/ASSOCIATED MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_associated">
			<field name="name">Associated members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'associated')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_associated_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_associated"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_associated_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_associated"/>
		</record>

		<menuitem name="Membership/Members/Associated members" 
			id="menu_members_associated" 
			action="action_membership_members_associated"/>


		<!-- MEMBERSHIP/MEMBERS/INVOICED MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_invoiced">
			<field name="name">Invoiced members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'invoiced')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_invoiced_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_invoiced"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_invoiced_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_invoiced"/>
		</record>

		<menuitem name="Membership/Members/Invoiced members" 
			id="menu_members_invoiced" 
			action="action_membership_members_invoiced"/>


		<!-- MEMBERSHIP/MEMBERS/FUTURE MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_waiting">
			<field name="name">Future members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'waiting')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_waiting_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_waiting"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_waiting_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_waiting"/>
		</record>

		<menuitem name="Membership/Members/Future members (invoice not confirmed)" 
			id="menu_members_waiting" 
			action="action_membership_members_waiting"/>

		<!-- MEMBERSHIP/MEMBERS/OLD MEMBERS  -->

		<record model="ir.actions.act_window" id="action_membership_members_old">
			<field name="name">Old members</field>
			<field name="res_model">res.partner</field>
			<field name="domain">[('membership_state', '=', 'old')]</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_old_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="membership_members_tree"/>
			<field name="act_window_id" ref="action_membership_members_old"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_membership_members_old_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="action_membership_members_old"/>
		</record>

		<menuitem name="Membership/Members/Old members" 
			id="menu_members_ol" 
			action="action_membership_members_old"/>


		<!-- PARTNERS -->

		<wizard
			string="Invoice Membership"
			model="res.partner"
			name="wizard_invoice_membership"
			id="wizard_invoice_membership"
			/>


		<record model="ir.ui.view" id="view_partner_form">
			<field name="name">res.partner.form.inherit</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form"/>
			<field name="arch" type="xml">
				<page string="Extra Info" position="after">
					<page string="Membership">
						<field name="membership_state" select="2"/>
						<field name="membership_amount" select="2"/>
						<field name="associate_member"/>
						<field name="free_member" select="2"/>
						<field name="membership_start" select="2"/>
						<field name="membership_stop" select="2"/>
					<field name="member_lines" nolabel="1" colspan="4" readonly="1">
							<tree string="Membership">
								<field name="date_from"/>
								<field name="date_to"/>
								<field name="state"/>
							</tree>
							<form string="Membership">
								<field name="date_from"/>
								<field name="date_to"/>
								<field name="account_invoice_line"/>
								<field name="state"/>
							</form>
						</field>
					</page>
				</page>

			</field>
		</record>


		<!-- MEMBERSHIP/REPORTING -->

		<record model="ir.ui.view" id="view_report_membership_product_tree">
			<field name="name">report.membership.product.tree</field>
			<field name="model">report.membership.product</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Invoices for membership products">
					<field name="product"/>
					<field name="state"/>
					<field name="number"/>
					<field name="price"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="view_report_membership_product_graph1">
			<field name="name">report.membership.product.graph1</field>
			<field name="model">report.membership.product</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Invoices for membership products" type="bar">
					<field name="product"/>
					<field name="state" group="1"/>
					<field name="number"/>
				</graph>
			</field>
		</record>

		<record model="ir.ui.view" id="view_report_membership_product_graph2">
			<field name="name">report.membership.product.graph2</field>
			<field name="model">report.membership.product</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Invoices for membership products" type="bar">
					<field name="product"/>
					<field name="state" group="1"/>
					<field name="price"/>
				</graph>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_report_membership_product_tree">
			<field name="res_model">report.membership.product</field>
			<field name="view_type">form</field>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_product_tree_view1">
			<field name="sequence" eval="3"/>
			<field name="view_mode">tree</field>
			<field name="act_window_id" ref="action_report_membership_product_tree"/>
		</record>

		<record model="ir.actions.act_window.view" id="action_report_membership_product_tree_view2">
			<field name="sequence" eval="1"/>
			<field name="view_mode">graph</field>
			<field name="view_id" ref="view_report_membership_product_graph1"/>
			<field name="act_window_id" ref="action_report_membership_product_tree"/>
		</record>


		<record model="ir.actions.act_window.view" id="action_report_membership_product_tree_view3">
			<field name="sequence" eval="2"/>
			<field name="view_mode">graph</field>
			<field name="view_id" ref="view_report_membership_product_graph2"/>
			<field name="act_window_id" ref="action_report_membership_product_tree"/>
		</record>

		<menuitem name="Membership/Reporting/Membership by Products"
			action="action_report_membership_product_tree"
			id="menu_report_membership_product"/>

	</data>
</terp>
