<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="1">

    <record model="game.scenario" id="retail_phase1">
        <field name="name">Retail: From Quotation to Invoice</field>
        <field name="note">
Description of the scenario.
        </field>
        <field name="state">draft</field>
    </record>

	<record model="game.scenario.step" id="step_sale">
		<field name="name">Confirm the order</field>
        <field name="scenario_id" ref="retail_phase1"/>
        <field name="accepted_users" eval="[(6,0,[ref('sale.user_sales')])]"/>
        <field name="menu_id" ref="sale.view_order_form"/>
        <field name="description">
In this phase, you must confirm the order.
        </field>
        <field name="tip"></field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must confirm the order.
        </field>

        <field name="pre_process_object">profile.game.detail.phase1</field>
        <field name="pre_process_method">pre_process_sale</field>

        <field name="post_process_object">profile.game.detail.phase1</field>
        <field name="post_process_method">post_process_sale</field>
        <field name="state">draft</field>
    </record>

    <record model="game.scenario.step" id="step_print_quote">
		<field name="name">Print the quotation</field>
        <field name="scenario_id" ref="retail_phase1"/>
        <field name="accepted_users" eval="[(6,0,[ref('sale.user_sales')])]"/>
        <field name="menu_id" ref="sale.view_order_form"/>
        <field name="description">
In this phase, you must print the quotation you just created.
        </field>
        <field name="tip"></field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must print the quotation you just created.
        </field>

        <field name="pre_process_object">profile.game.detail.phase1</field>
        <field name="pre_process_method">pre_process_print_quote</field>

        <field name="post_process_object">profile.game.detail.phase1</field>
        <field name="post_process_method">post_process_print_quote</field>
        <field name="state">draft</field>
		<field name="step_next_ids" eval="[(6,0,[ref('step_sale')])]"/>
    </record>


    <record model="game.scenario.step" id="step_quotation">
		<field name="name">Create a Quotation</field>
        <field name="scenario_id" ref="retail_phase1"/>
        <field name="accepted_users" eval="[(6,0,[ref('sale.user_sales')])]"/>
        <field name="menu_id" ref="sale.view_order_form"/>
        <field name="description">
In this first phase, the <i>Sales Manager</i> must create a quotation for the
customer <i>Agrolait</i>. This quotation must include two products, with the
following configuration:
* One PC1: form stock, at 450 EUR
* One PC2: on order, at 550 EUR
        </field>
        <field name="tip">
You can use the menu: Sales Management / Sales Order / New Quotation
        </field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
You should now create a sale order with two products:
* One PC1
* One PC2

I suggest you to click on the home button on the top right corner to go
back to the main dashboard.
        </field>

        <field name="pre_process_object">profile.game.detail.phase1</field>
        <field name="pre_process_method">pre_process_quotation</field>

        <field name="post_process_object">profile.game.detail.phase1</field>
        <field name="post_process_method">post_process_quotation</field>
        <field name="state">draft</field>

        <field name="step_next_ids" eval="[(6,0,[ref('step_print_quote')])]"/>
    </record>

    </data>
</openerp>
